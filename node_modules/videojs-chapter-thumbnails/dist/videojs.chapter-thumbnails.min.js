!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(1);var i=n(5),o=n(9),u=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,e);var a={label:"English",language:"en"};this.player=t,this.text_track=videojs.mergeOptions(a,n,{"default":!0,kind:"metadata",id:o.TRACK_ID}),this.template=this.text_track.template}return a(e,[{key:"addComponent",value:function(){var e=this.player.getChild("controlBar"),t=e.getChild("chaptersButton"),n=e.getChild(i.CHAPTER_THUMBNAIL_MENU_BUTTON_NAME);n&&n.menu?(n.menu.dispose(),delete n.menu):(n=new i.ChapterThumbnailMenuButton(this.player,{name:i.CHAPTER_THUMBNAIL_MENU_BUTTON_NAME,template:this.template}),e.addChild(n),e.el().insertBefore(n.el(),t.el())),this.addTextTrack()}},{key:"addTextTrack",value:function(){var e=this.player.remoteTextTracks().getTrackById(o.TRACK_ID);e&&this.player.removeRemoteTextTrack(e),this.player.addRemoteTextTrack(this.text_track)}}]),e}();t["default"]=u,videojs.plugin("chapter_thumbnails",function(e){var t=new u(this,e);t.addComponent()}),e.exports=t["default"]},function(e,t){},,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=i,n=o,r=!0,u=l=void 0}},u=n(6),s=n(7),l=n(9),c="ChapterThumbnailMenuButton",h=videojs.getComponent("MenuButton"),p=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n);var a=this.player().remoteTextTracks();if(this.items.length<=0&&this.hide(),a){var i=this.update.bind(this);a.addEventListener("addtrack",i),a.addEventListener("removetrack",i),this.player().on("dispose",function(){a.removeEventListener("addtrack",i),a.removeEventListener("removetrack",i)}),this.addClass("vjs-chapter-thumbnails-button"),this.addClass("vjs-chapters-button"),this.el_.setAttribute("aria-label","Chapters Menu")}}return a(t,e),i(t,[{key:"createMenu",value:function(){var e=this,t=void 0,n=void 0,r=this.player().remoteTextTracks()||[];this.items=[],this.menu||(this.menu=new u.ChapterThumbnailMenu(this.player(),{name:u.CHAPTER_THUMBNAIL_MENU_NAME}));for(var a=0,i=r.length;i>a;a++)if(n=r[a],n.id===l.TRACK_ID){t=n;break}if(!t)return this.menu;if(t&&null==t.cues){n.mode="hidden";var o=this.player().remoteTextTrackEls().getTrackElementByTrack_(n);o&&o.addEventListener("load",function(t){return e.createMenu()})}if(t&&t.cues&&t.cues.length>0){this.items=this.createItems(t);for(var a=0,s=this.items.length;s>a;a++)this.menu.addChild(this.items[a]);this.player().addChild(this.menu),this.items.length>0&&this.show()}return this.menu}},{key:"createItems",value:function(e){var t=[];if(!e||e.cues.length<=0)return t;for(var n=this.options_.template,r=0,a=e.cues.length;a>r;r++){var i=e.cues[r];t.push(new s.ChapterThumbnailMenuItem(this.player(),{cue:i,template:n,text_track:e}))}return t}},{key:"handleClick",value:function(e){this.menu.hasClass("vjs-lock-showing")?this.menu.unlockShowing():this.menu.lockShowing(),this.player().el().focus()}},{key:"update",value:function(){var e=this.createMenu();this.menu=e,this.buttonPressed_=!1,this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()}}]),t}(h);p.prototype.controlText_="Chapters",t.CHAPTER_THUMBNAIL_MENU_BUTTON_NAME=c,t.ChapterThumbnailMenuButton=p},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=i,n=o,r=!0,u=l=void 0}},i="ChapterThumbnailMenu",o=videojs.getComponent("Menu"),u=function(e){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.el_.id="vjs_chapter_thumbnails_menu",this.addClass("vjs-chapter-thumbnails-menu")}return r(t,e),t}(o);t.CHAPTER_THUMBNAIL_MENU_NAME=i,t.ChapterThumbnailMenu=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=i,n=o,r=!0,u=l=void 0}},s=n(8),l=r(s),c=videojs.getComponent("MenuItem"),h=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];a(this,t);var r=n.cue,i=n.text_track,o=e.currentTime();n.label=(0,l["default"])(r),n.selected=r.startTime<=o&&o<r.endTime,u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.addClass("vjs-chapter-thumbnails-menu-item"),i.addEventListener("cuechange",videojs.bind(this,this.onCueChange))}return i(t,e),o(t,[{key:"handleClick",value:function(e){var t=this.options_.cue,n=this.player().paused();n||this.player().pause(),this.player().currentTime(t.startTime),n||this.player().play(),this.player().el().focus()}},{key:"onCueChange",value:function(e){this.update()}},{key:"update",value:function(){var e=this.options_.cue,t=this.player().currentTime();this.selected(e.startTime<=t&&t<e.endTime)}}]),t}(c);t.ChapterThumbnailMenuItem=h},function(e,t){"use strict";function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.template||r.template,a=JSON.parse(e.text||"{}");for(var i in a)a.hasOwnProperty(i)&&(n=n.replace(new RegExp("{{"+i+"}}","ig"),a[i]));return n}Object.defineProperty(t,"__esModule",{value:!0});var r={template:'\n<div class="vjs-chapters-thumbnails-item">\n    <img class="vjs-chapters-thumbnails-item-image" src="{{image}}" />\n    <span class="vjs-chapters-thumbnails-item-title">{{title}}</span>\n</div>\n'};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="chapter_thumbnails_track";t.TRACK_ID=n}]);